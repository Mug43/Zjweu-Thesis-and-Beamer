# 更新日志 / CHANGELOG

本文档记录了 ZJWEU Thesis Template (Beta) 的所有重要更改。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循 [语义化版本 2.0.0](https://semver.org/lang/zh-CN/)。

## [未发布]

### 计划中的功能
- [ ] 附录模块
- [ ] 可编辑报告形式封面
- [ ] 可编辑报告式模板（无页眉）

## [0.2.1-beta] - 2026-01-07

### 新增功能 ✨
- **新增第二章示例**
  - 新增 `chapter02.tex` 文件，展示国内卫星遥感技术进展
  - 包含丰富的三线表、图片和公式示例
  - 展示多章节文档的完整效果

- **示例内容增强**
  - 第一章增加三线表示例（TRMM与GPM卫星技术参数对比）
  - 第一章增加图片示例（Sentinel-1 SAR卫星成像示意图）
  - 第一章增加公式示例（NDVI和NDWI计算公式）
  - 第二章包含更多复杂示例：
    - 风云系列卫星技术参数表
    - 遥感分类精度评价指标表
    - 多个遥感算法公式（雷达方程、多普勒频移、大气校正等）
    - 多个图示示例

### 格式修复 🔧
- **编号格式规范化**
  - 修改公式编号格式：从 `章节.序号` 改为 `章节-序号`
  - 修改图编号格式：从 `图章节.序号` 改为 `图章节-序号`
  - 修改表编号格式：从 `表章节.序号` 改为 `表章节-序号`
  - 新增 `\renewcommand{\theequation}{\thechapter-\arabic{equation}}`
  - 新增 `\renewcommand{\thefigure}{\thechapter-\arabic{figure}}`
  - 新增 `\renewcommand{\thetable}{\thechapter-\arabic{table}}`

### 格式验证 ✅
- 确认正文英文字体为 Times New Roman
- 确认正文行距为 22 磅
- 确认正文字号为小四
- 确认图表题注为宋体五号
- 符合浙江水利水电学院论文格式规范

### 文件结构
- 新增文件：`Report/chp/chapter02.tex`（190行）
- 更新文件：`Report/chp/chapter01.tex`（添加三线表、图片、公式示例）
- 更新文件：`main-example.tex`（引入第二章）
- 更新文件：`zjweu-thesis-beta.cls`（修复编号格式）

## [0.2.0-beta] - 2026-01-06

### 重大更新 🎉
本版本基于实际论文编写经验进行了全面改进，新增多项重要功能。

### 新增功能 ✨
- **完整封面系统**
  - 新增 `\makecover` 命令，生成符合学校规范的完整封面
  - 支持学校logo图片（14.66cm×4.42cm）
  - 新增封面信息字段：`\zjweucollege`（学院）、`\zjweustudentid`（学号）、`\zjweugrade`（届数）、`\zjweucovertitle`（封面主标题）
  - 封面元素精确布局：logo→主标题→届数→题目→信息表格

- **声明及授权页**
  - 新增 `\makedeclaration` 命令
  - 包含完整的声明文本和签名区域
  - 符合学校论文提交要求

- **致谢环境**
  - 新增 `acknowledgment` 环境
  - 自动添加到目录
  - 规范的标题格式（三号宋体加粗居中）
  - 固定行距和段落缩进

- **国标参考文献格式**
  - 从 natbib 改为 gbt7714 包
  - 支持 GB/T 7714-2015 国家标准
  - 支持顺序编码制（gbt7714-numerical）
  - 支持著者-出版年制（gbt7714-author-year）
  - 参考文献标题格式：三号宋体加粗居中

- **黑体字族支持**
  - 新增 `\heiti` 命令
  - 支持黑体伪粗体（AutoFakeBold=2.17）
  - 用于封面和声明页

### 优化改进 🔧
- **页眉系统优化**
  - 新增页眉文本保存机制（`\@zjweuheadertext`）
  - 章节首页（plain样式）与普通页面页眉自动同步
  - 默认页眉：浙江水利水电学院××届毕业设计（论文）

- **页面布局精确控制**
  - 新增 `headsep=15mm`（页眉与正文距离）
  - 新增 `footskip=17.5mm`（页脚位置）
  - 更精确的版面控制

- **目录系统增强**
  - 新增 subsection 级别目录显示（三级目录）
  - 章节目录注释说明更清晰
  - 目录格式更规范

- **段落孤行控制**
  - 新增防止段落孤行孤字设置
  - `\clubpenalty=10000`
  - `\widowpenalty=10000`
  - `\displaywidowpenalty=10000`

### 文档更新 📝
- 更新 README.md 主文档
  - 新增版本 0.2.0 功能说明
  - 更新封面配置说明
  - 更新参考文献使用说明（gbt7714）
  - 新增致谢环境使用说明
  - 更新格式规范说明
  - 更新版本历史

- 更新快速入门.md
  - 新增封面配置步骤
  - 更新 GitHub 仓库地址
  - 新增致谢环境示例
  - 更新参考文献使用说明

- 更新项目结构说明.md
  - 新增 logo 目录说明
  - 更新核心文件说明
  - 新增 v0.2.0 新功能说明

- 更新 main-example.tex 示例
  - 展示所有新增配置项
  - 包含完整使用流程
  - 添加致谢示例

### 技术改进 🛠️
- CLS 文件从 274 行扩展到 425 行
- 新增 151 行功能代码
- 代码注释更完善
- 模块化程度提高

### 兼容性说明
- ✅ 向后兼容 v0.1.0-beta
- ✅ 旧文档只需简单修改即可使用新功能
- ⚠️ 参考文献建议更新为 gbt7714 格式（可选）

## [0.1.0-beta] - 2026-01-04

### 新增
- 🎉 首次发布 beta 版本
- ✨ 创建 `zjweu-thesis-beta.cls` 类文件
- ✨ 实现基本页面设置（A4纸张，页边距符合要求）
- ✨ 实现字体配置（宋体、楷体、Times New Roman）
- ✨ 实现伪粗体支持（AutoFakeBold=2.17）
- ✨ 实现章节格式设置
  - 第X章：三号宋体加粗居中
  - X.X节：小三号宋体加粗居左
  - X.X.X小节：四号宋体加粗居左
- ✨ 实现目录样式
- ✨ 实现图表公式按章节编号（X-Y格式）
- ✨ 实现三线表支持（booktabs包）
- ✨ 实现中英文摘要环境
- ✨ 实现中英文关键词命令
- ✨ 实现参考文献格式（支持两种方式）
- ✨ 实现页眉页脚设置
- ✨ 添加封面生成命令（基础版）
- 📁 创建模块化目录结构
  - `Report/chp/` - 章节目录
  - `Report/Fig/` - 图片目录
  - `Report/ref/` - 参考文献目录
- 📝 创建示例文件
  - `main-example.tex` - 简化主文档
  - `Report/abstract.tex` - 摘要模板
  - `Report/chp/chapter01.tex` - 第一章示例
  - `Report/ref/references.tex` - 参考文献模板
- 📄 创建 BibTeX 示例文件 `references.bib`
- 📖 创建详细使用说明 `README.md`
- 📖 创建参考文献使用说明
- 📜 添加 MIT 许可证

### 格式规范
- 正文：小四号宋体，行距22磅，首行缩进2字符
- 摘要：小四号宋体，行距20磅
- 图表标题：五号宋体，居中
- 参考文献：五号宋体，行距20磅
- 页眉：五号楷体
- 章标题上下空一行
- 节标题上下空一行
- 小节标题不空行

### 技术细节
- 基于 `ctexbook` 文档类
- 使用 XeLaTeX 编译
- 支持 UTF-8 编码
- 自动处理中文字体
- 孤行孤尾控制（widowpenalty/clubpenalty）

### 文档
- 完整的 README.md 使用说明
- 快速开始指南
- 详细使用示例
- 常见问题解答
- 格式规范说明

## 版本说明

### 版本号规则
- 主版本号：重大架构更改或不兼容更新
- 次版本号：新功能添加（向后兼容）
- 修订号：问题修复和小改进
- beta/alpha 标识：测试版本

### 当前版本状态
- **0.1.0-beta**: 首个测试版本，核心功能已实现，欢迎测试反馈

## 反馈与贡献

如果您在使用过程中发现问题或有改进建议，欢迎：
1. 在 GitHub Issues 提交问题
2. 发起 Pull Request
3. 联系维护者

---

**注**: 本项目遵循 [MIT 许可证](LICENSE)
